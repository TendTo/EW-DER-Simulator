\newgeometry{textheight=0.85\paperheight}
\begin{figure}
    \resizebox{!}{\textheight}{%
        % generated by Plantuml 1.2022.7
        \definecolor{plantucolor0000}{RGB}{255,250,240}
        \definecolor{plantucolor0001}{RGB}{24,24,24}
        \definecolor{plantucolor0002}{RGB}{0,0,0}
        \definecolor{plantucolor0003}{RGB}{248,248,255}
        \definecolor{plantucolor0004}{RGB}{245,245,245}
        \definecolor{plantucolor0005}{RGB}{255,255,255}
        \definecolor{plantucolor0006}{RGB}{254,255,221}
        \definecolor{plantucolor0007}{RGB}{238,238,238}
        \begin{tikzpicture}[yscale=-1
                ,pstyle3/.style={color=plantucolor0001,fill=white,line width=1.0pt}
                ,pstyle4/.style={color=black,line width=1.5pt}
                ,pstyle5/.style={color=plantucolor0001,line width=0.5pt,dash pattern=on 5.0pt off 5.0pt}
                ,pstyle6/.style={fill=plantucolor0000,color=plantucolor0000,line width=0.5pt}
                ,pstyle7/.style={fill=plantucolor0003,color=plantucolor0003,line width=0.5pt}
                ,pstyle8/.style={fill=plantucolor0004,color=plantucolor0004,line width=0.5pt}
                ,pstyle9/.style={color=plantucolor0001,fill=plantucolor0001,line width=1.0pt}
                ,pstyle10/.style={color=plantucolor0001,line width=1.0pt,dash pattern=on 2.0pt off 2.0pt}
                ,pstyle11/.style={color=plantucolor0001,line width=1.0pt}
                ,pstyle12/.style={color=plantucolor0001,fill=plantucolor0006,line width=0.5pt}
                ,pstyle13/.style={color=black,fill=plantucolor0007,line width=1.5pt}
                ,pstyle14/.style={color=black,line width=1.0pt}
            ]
            \draw[color=plantucolor0001,fill=plantucolor0000,line width=0.5pt] (65.251pt,6pt) rectangle (180.6839pt,1317.7617pt);
            \node at (93.894pt,6pt)[below right,color=black]{\textbf{Frontend}};
            \draw[color=plantucolor0001,fill=plantucolor0003,line width=0.5pt] (207.8567pt,6pt) rectangle (729.9293pt,1317.7617pt);
            \node at (441.093pt,6pt)[below right,color=black]{\textbf{Backend}};
            \draw[color=plantucolor0001,fill=plantucolor0004,line width=0.5pt] (805.6448pt,6pt) rectangle (892.3357pt,1317.7617pt);
            \node at (812.3331pt,6pt)[below right,color=black]{\textbf{Blockchain}};
            \draw[pstyle3] (117.9674pt,108.1816pt) rectangle (127.9674pt,1264.0156pt);
            \draw[pstyle3] (253.6625pt,251.5742pt) rectangle (263.6625pt,1264.0156pt);
            \draw[pstyle3] (376.5452pt,325.5313pt) rectangle (386.5452pt,356.0098pt);
            \draw[pstyle3] (376.5452pt,681.7949pt) rectangle (386.5452pt,704.4616pt);
            \draw[pstyle3] (376.5452pt,865.8542pt) rectangle (386.5452pt,888.5208pt);
            \draw[pstyle3] (483.3086pt,386.4883pt) rectangle (493.3086pt,416.9668pt);
            \draw[pstyle3] (483.3086pt,447.4453pt) rectangle (493.3086pt,911.1875pt);
            \draw[pstyle3] (483.3086pt,941.666pt) rectangle (493.3086pt,1197.8704pt);
            \draw[pstyle3] (625.3086pt,595.3594pt) rectangle (635.3086pt,772.4186pt);
            \draw[pstyle3] (701.7103pt,651.3164pt) rectangle (711.7103pt,734.9401pt);
            \draw[pstyle3] (701.7103pt,997.623pt) rectangle (711.7103pt,1175.2038pt);
            \draw[pstyle4] (345.4725pt,610.3594pt) rectangle (735.9293pt,742.9401pt);
            \draw[pstyle4] (433.6674pt,787.4186pt) rectangle (898.3357pt,836.3757pt);
            \draw[pstyle4] (433.6674pt,956.666pt) rectangle (898.3357pt,1123.0586pt);
            \draw[pstyle5] (122.251pt,59.2246pt) -- (122.251pt,1282.0156pt);
            \draw[pstyle5] (257.8567pt,59.2246pt) -- (257.8567pt,1282.0156pt);
            \draw[pstyle5] (381.4725pt,59.2246pt) -- (381.4725pt,1282.0156pt);
            \draw[pstyle5] (487.6674pt,59.2246pt) -- (487.6674pt,1282.0156pt);
            \draw[pstyle5] (630.126pt,59.2246pt) -- (630.126pt,1282.0156pt);
            \draw[pstyle5] (706.4912pt,59.2246pt) -- (706.4912pt,1282.0156pt);
            \draw[pstyle5] (848.6448pt,59.2246pt) -- (848.6448pt,1282.0156pt);
            \draw[pstyle6] (69.251pt,31.4785pt) arc (180:270:5pt) -- (74.251pt,26.4785pt) -- (171.6839pt,26.4785pt) arc (270:360:5pt) -- (176.6839pt,31.4785pt) -- (176.6839pt,53.2246pt) arc (0:90:5pt) -- (171.6839pt,58.2246pt) -- (74.251pt,58.2246pt) arc (90:180:5pt) -- (69.251pt,53.2246pt) -- cycle;
            \node at (76.251pt,33.4785pt)[below right,color=black]{Event Handler};
            \draw[pstyle6] (69.251pt,1286.0156pt) arc (180:270:5pt) -- (74.251pt,1281.0156pt) -- (171.6839pt,1281.0156pt) arc (270:360:5pt) -- (176.6839pt,1286.0156pt) -- (176.6839pt,1307.7617pt) arc (0:90:5pt) -- (171.6839pt,1312.7617pt) -- (74.251pt,1312.7617pt) arc (90:180:5pt) -- (69.251pt,1307.7617pt) -- cycle;
            \node at (76.251pt,1288.0156pt)[below right,color=black]{Event Handler};
            \draw[pstyle7] (211.8567pt,31.4785pt) arc (180:270:5pt) -- (216.8567pt,26.4785pt) -- (300.4683pt,26.4785pt) arc (270:360:5pt) -- (305.4683pt,31.4785pt) -- (305.4683pt,53.2246pt) arc (0:90:5pt) -- (300.4683pt,58.2246pt) -- (216.8567pt,58.2246pt) arc (90:180:5pt) -- (211.8567pt,53.2246pt) -- cycle;
            \node at (218.8567pt,33.4785pt)[below right,color=black]{IPC Handler};
            \draw[pstyle7] (211.8567pt,1286.0156pt) arc (180:270:5pt) -- (216.8567pt,1281.0156pt) -- (300.4683pt,1281.0156pt) arc (270:360:5pt) -- (305.4683pt,1286.0156pt) -- (305.4683pt,1307.7617pt) arc (0:90:5pt) -- (300.4683pt,1312.7617pt) -- (216.8567pt,1312.7617pt) arc (90:180:5pt) -- (211.8567pt,1307.7617pt) -- cycle;
            \node at (218.8567pt,1288.0156pt)[below right,color=black]{IPC Handler};
            \draw[pstyle7] (355.4725pt,31.4785pt) arc (180:270:5pt) -- (360.4725pt,26.4785pt) -- (402.618pt,26.4785pt) arc (270:360:5pt) -- (407.618pt,31.4785pt) -- (407.618pt,53.2246pt) arc (0:90:5pt) -- (402.618pt,58.2246pt) -- (360.4725pt,58.2246pt) arc (90:180:5pt) -- (355.4725pt,53.2246pt) -- cycle;
            \node at (362.4725pt,33.4785pt)[below right,color=black]{Clock};
            \draw[pstyle7] (355.4725pt,1286.0156pt) arc (180:270:5pt) -- (360.4725pt,1281.0156pt) -- (402.618pt,1281.0156pt) arc (270:360:5pt) -- (407.618pt,1286.0156pt) -- (407.618pt,1307.7617pt) arc (0:90:5pt) -- (402.618pt,1312.7617pt) -- (360.4725pt,1312.7617pt) arc (90:180:5pt) -- (355.4725pt,1307.7617pt) -- cycle;
            \node at (362.4725pt,1288.0156pt)[below right,color=black]{Clock};
            \draw[pstyle7] (443.6674pt,31.4785pt) arc (180:270:5pt) -- (448.6674pt,26.4785pt) -- (527.9499pt,26.4785pt) arc (270:360:5pt) -- (532.9499pt,31.4785pt) -- (532.9499pt,53.2246pt) arc (0:90:5pt) -- (527.9499pt,58.2246pt) -- (448.6674pt,58.2246pt) arc (90:180:5pt) -- (443.6674pt,53.2246pt) -- cycle;
            \node at (450.6674pt,33.4785pt)[below right,color=black]{Aggregator};
            \draw[pstyle7] (443.6674pt,1286.0156pt) arc (180:270:5pt) -- (448.6674pt,1281.0156pt) -- (527.9499pt,1281.0156pt) arc (270:360:5pt) -- (532.9499pt,1286.0156pt) -- (532.9499pt,1307.7617pt) arc (0:90:5pt) -- (527.9499pt,1312.7617pt) -- (448.6674pt,1312.7617pt) arc (90:180:5pt) -- (443.6674pt,1307.7617pt) -- cycle;
            \node at (450.6674pt,1288.0156pt)[below right,color=black]{Aggregator};
            \draw[pstyle7] (583.126pt,31.4785pt) arc (180:270:5pt) -- (588.126pt,26.4785pt) -- (672.4912pt,26.4785pt) arc (270:360:5pt) -- (677.4912pt,31.4785pt) -- (677.4912pt,53.2246pt) arc (0:90:5pt) -- (672.4912pt,58.2246pt) -- (588.126pt,58.2246pt) arc (90:180:5pt) -- (583.126pt,53.2246pt) -- cycle;
            \node at (590.126pt,33.4785pt)[below right,color=black]{IoT Factory};
            \draw[pstyle7] (583.126pt,1286.0156pt) arc (180:270:5pt) -- (588.126pt,1281.0156pt) -- (672.4912pt,1281.0156pt) arc (270:360:5pt) -- (677.4912pt,1286.0156pt) -- (677.4912pt,1307.7617pt) arc (0:90:5pt) -- (672.4912pt,1312.7617pt) -- (588.126pt,1312.7617pt) arc (90:180:5pt) -- (583.126pt,1307.7617pt) -- cycle;
            \node at (590.126pt,1288.0156pt)[below right,color=black]{IoT Factory};
            \draw[pstyle7] (687.4912pt,31.4785pt) arc (180:270:5pt) -- (692.4912pt,26.4785pt) -- (720.9293pt,26.4785pt) arc (270:360:5pt) -- (725.9293pt,31.4785pt) -- (725.9293pt,53.2246pt) arc (0:90:5pt) -- (720.9293pt,58.2246pt) -- (692.4912pt,58.2246pt) arc (90:180:5pt) -- (687.4912pt,53.2246pt) -- cycle;
            \node at (694.4912pt,33.4785pt)[below right,color=black]{IoT};
            \draw[pstyle7] (687.4912pt,1286.0156pt) arc (180:270:5pt) -- (692.4912pt,1281.0156pt) -- (720.9293pt,1281.0156pt) arc (270:360:5pt) -- (725.9293pt,1286.0156pt) -- (725.9293pt,1307.7617pt) arc (0:90:5pt) -- (720.9293pt,1312.7617pt) -- (692.4912pt,1312.7617pt) arc (90:180:5pt) -- (687.4912pt,1307.7617pt) -- cycle;
            \node at (694.4912pt,1288.0156pt)[below right,color=black]{IoT};
            \draw[pstyle8] (809.6448pt,31.4785pt) arc (180:270:5pt) -- (814.6448pt,26.4785pt) -- (883.3357pt,26.4785pt) arc (270:360:5pt) -- (888.3357pt,31.4785pt) -- (888.3357pt,53.2246pt) arc (0:90:5pt) -- (883.3357pt,58.2246pt) -- (814.6448pt,58.2246pt) arc (90:180:5pt) -- (809.6448pt,53.2246pt) -- cycle;
            \node at (816.6448pt,33.4785pt)[below right,color=black]{EW chain};
            \draw[pstyle8] (809.6448pt,1286.0156pt) arc (180:270:5pt) -- (814.6448pt,1281.0156pt) -- (883.3357pt,1281.0156pt) arc (270:360:5pt) -- (888.3357pt,1286.0156pt) -- (888.3357pt,1307.7617pt) arc (0:90:5pt) -- (883.3357pt,1312.7617pt) -- (814.6448pt,1312.7617pt) arc (90:180:5pt) -- (809.6448pt,1307.7617pt) -- cycle;
            \node at (816.6448pt,1288.0156pt)[below right,color=black]{EW chain};
            \draw[pstyle3] (117.9674pt,108.1816pt) rectangle (127.9674pt,1264.0156pt);
            \draw[pstyle3] (253.6625pt,251.5742pt) rectangle (263.6625pt,1264.0156pt);
            \draw[pstyle3] (376.5452pt,325.5313pt) rectangle (386.5452pt,356.0098pt);
            \draw[pstyle3] (376.5452pt,681.7949pt) rectangle (386.5452pt,704.4616pt);
            \draw[pstyle3] (376.5452pt,865.8542pt) rectangle (386.5452pt,888.5208pt);
            \draw[pstyle3] (483.3086pt,386.4883pt) rectangle (493.3086pt,416.9668pt);
            \draw[pstyle3] (483.3086pt,447.4453pt) rectangle (493.3086pt,911.1875pt);
            \draw[pstyle3] (483.3086pt,941.666pt) rectangle (493.3086pt,1197.8704pt);
            \draw[pstyle3] (625.3086pt,595.3594pt) rectangle (635.3086pt,772.4186pt);
            \draw[pstyle3] (701.7103pt,651.3164pt) rectangle (711.7103pt,734.9401pt);
            \draw[pstyle3] (701.7103pt,997.623pt) rectangle (711.7103pt,1175.2038pt);
            \draw[pstyle9] (105.9674pt,104.1816pt) -- (115.9674pt,108.1816pt) -- (105.9674pt,112.1816pt) -- (109.9674pt,108.1816pt) -- cycle;
            \draw[pstyle10] (0pt,108.1816pt) -- (111.9674pt,108.1816pt);
            \node at (9.5pt,73.2246pt)[below right,color=black]{Start simulation };
            \node at (23.0885pt,89.7031pt)[below right,color=black]{button click};
            \draw[pstyle11] (127.9674pt,138.6602pt) -- (169.9674pt,138.6602pt);
            \draw[pstyle11] (169.9674pt,138.6602pt) -- (169.9674pt,151.6602pt);
            \draw[pstyle11] (128.9674pt,151.6602pt) -- (169.9674pt,151.6602pt);
            \draw[pstyle9] (138.9674pt,147.6602pt) -- (128.9674pt,151.6602pt) -- (138.9674pt,155.6602pt) -- (134.9674pt,151.6602pt) -- cycle;
            \node at (134.9674pt,120.1816pt)[below right,color=black]{\textit{onStartSimulation}};
            \draw[pstyle12] (48pt,164.6602pt) -- (48pt,223.6602pt) -- (196pt,223.6602pt) -- (196pt,174.6602pt) -- (186pt,164.6602pt) -- (48pt,164.6602pt);
            \draw[pstyle12] (186pt,164.6602pt) -- (186pt,174.6602pt) -- (196pt,174.6602pt) -- (186pt,164.6602pt);
            \node at (63pt,169.6602pt)[below right,color=black]{Get the parameters };
            \node at (69.2387pt,186.1387pt)[below right,color=black]{of the simulation };
            \node at (75.3298pt,202.6172pt)[below right,color=black]{from user input};
            \draw[pstyle9] (241.6625pt,247.5742pt) -- (251.6625pt,251.5742pt) -- (241.6625pt,255.5742pt) -- (245.6625pt,251.5742pt) -- cycle;
            \draw[pstyle11] (127.9674pt,251.5742pt) -- (247.6625pt,251.5742pt);
            \node at (143.4856pt,233.0957pt)[below right,color=black]{\textit{startSimulation}};
            \draw[pstyle11] (263.6625pt,282.0527pt) -- (305.6625pt,282.0527pt);
            \draw[pstyle11] (305.6625pt,282.0527pt) -- (305.6625pt,295.0527pt);
            \draw[pstyle11] (264.6625pt,295.0527pt) -- (305.6625pt,295.0527pt);
            \draw[pstyle9] (274.6625pt,291.0527pt) -- (264.6625pt,295.0527pt) -- (274.6625pt,299.0527pt) -- (270.6625pt,295.0527pt) -- cycle;
            \node at (270.6625pt,263.5742pt)[below right,color=black]{\textit{startOnLoading}};
            \draw[pstyle9] (364.5452pt,321.5313pt) -- (374.5452pt,325.5313pt) -- (364.5452pt,329.5313pt) -- (368.5452pt,325.5313pt) -- cycle;
            \draw[pstyle11] (263.6625pt,325.5313pt) -- (370.5452pt,325.5313pt);
            \node at (307.7221pt,307.0527pt)[below right,color=black]{\textit{new}};
            \draw[pstyle9] (274.6625pt,352.0098pt) -- (264.6625pt,356.0098pt) -- (274.6625pt,360.0098pt) -- (270.6625pt,356.0098pt) -- cycle;
            \draw[pstyle10] (268.6625pt,356.0098pt) -- (380.5452pt,356.0098pt);
            \node at (303.0862pt,337.5313pt)[below right,color=black]{\textbf{clockl}};
            \draw[pstyle9] (471.3086pt,382.4883pt) -- (481.3086pt,386.4883pt) -- (471.3086pt,390.4883pt) -- (475.3086pt,386.4883pt) -- cycle;
            \draw[pstyle11] (263.6625pt,386.4883pt) -- (477.3086pt,386.4883pt);
            \node at (361.1037pt,368.0098pt)[below right,color=black]{\textit{new}};
            \draw[pstyle9] (274.6625pt,412.9668pt) -- (264.6625pt,416.9668pt) -- (274.6625pt,420.9668pt) -- (270.6625pt,416.9668pt) -- cycle;
            \draw[pstyle10] (268.6625pt,416.9668pt) -- (487.3086pt,416.9668pt);
            \node at (339.6481pt,398.4883pt)[below right,color=black]{\textbf{Aggregator}};
            \draw[pstyle9] (471.3086pt,443.4453pt) -- (481.3086pt,447.4453pt) -- (471.3086pt,451.4453pt) -- (475.3086pt,447.4453pt) -- cycle;
            \draw[pstyle11] (263.6625pt,447.4453pt) -- (477.3086pt,447.4453pt);
            \node at (324.1754pt,428.9668pt)[below right,color=black]{\textit{setupSimulation}};
            \draw[pstyle11] (493.3086pt,477.9238pt) -- (535.3086pt,477.9238pt);
            \draw[pstyle11] (535.3086pt,477.9238pt) -- (535.3086pt,490.9238pt);
            \draw[pstyle11] (494.3086pt,490.9238pt) -- (535.3086pt,490.9238pt);
            \draw[pstyle9] (504.3086pt,486.9238pt) -- (494.3086pt,490.9238pt) -- (504.3086pt,494.9238pt) -- (500.3086pt,490.9238pt) -- cycle;
            \node at (500.3086pt,459.4453pt)[below right,color=black]{\textit{listenContractLogs}};
            \draw[pstyle11] (493.3086pt,521.4023pt) -- (535.3086pt,521.4023pt);
            \draw[pstyle11] (535.3086pt,521.4023pt) -- (535.3086pt,534.4023pt);
            \draw[pstyle11] (494.3086pt,534.4023pt) -- (535.3086pt,534.4023pt);
            \draw[pstyle9] (504.3086pt,530.4023pt) -- (494.3086pt,534.4023pt) -- (504.3086pt,538.4023pt) -- (500.3086pt,534.4023pt) -- cycle;
            \node at (500.3086pt,502.9238pt)[below right,color=black]{\textit{getNetworkInfo}};
            \draw[pstyle9] (836.9903pt,560.8809pt) -- (846.9903pt,564.8809pt) -- (836.9903pt,568.8809pt) -- (840.9903pt,564.8809pt) -- cycle;
            \draw[pstyle11] (493.3086pt,564.8809pt) -- (842.9903pt,564.8809pt);
            \node at (628.8161pt,546.4023pt)[below right,color=black]{\textit{resetContract}};
            \draw[pstyle9] (613.3086pt,591.3594pt) -- (623.3086pt,595.3594pt) -- (613.3086pt,599.3594pt) -- (617.3086pt,595.3594pt) -- cycle;
            \draw[pstyle11] (493.3086pt,595.3594pt) -- (619.3086pt,595.3594pt);
            \node at (526.7928pt,576.8809pt)[below right,color=black]{\textit{createIoTs}};
            \draw[pstyle13] (345.4725pt,610.3594pt) -- (416.8725pt,610.3594pt) -- (416.8725pt,618.8379pt) -- (406.8725pt,628.8379pt) -- (345.4725pt,628.8379pt) -- (345.4725pt,610.3594pt);
            \draw[pstyle4] (345.4725pt,610.3594pt) rectangle (735.9293pt,742.9401pt);
            \node at (360.4725pt,611.3594pt)[below right,color=black]{\textbf{loop}};
            \node at (431.8725pt,612.3594pt)[below right,color=black]{\textbf{[for i = 0 to n - 1]}};
            \draw[pstyle9] (689.7103pt,647.3164pt) -- (699.7103pt,651.3164pt) -- (689.7103pt,655.3164pt) -- (693.7103pt,651.3164pt) -- cycle;
            \draw[pstyle11] (635.3086pt,651.3164pt) -- (695.7103pt,651.3164pt);
            \node at (656.1276pt,632.8379pt)[below right,color=black]{\textit{new}};
            \draw[pstyle9] (397.5452pt,677.7949pt) -- (387.5452pt,681.7949pt) -- (397.5452pt,685.7949pt) -- (393.5452pt,681.7949pt) -- cycle;
            \draw[pstyle11] (391.5452pt,681.7949pt) -- (700.7103pt,681.7949pt);
            \node at (505.2461pt,663.3164pt)[below right,color=black]{\textit{addFunction}};
            \draw[pstyle9] (689.7103pt,700.4616pt) -- (699.7103pt,704.4616pt) -- (689.7103pt,708.4616pt) -- (693.7103pt,704.4616pt) -- cycle;
            \draw[pstyle10] (381.5452pt,704.4616pt) -- (695.7103pt,704.4616pt);
            \draw[pstyle14] (544.2386pt,693.7949pt) -- (543.4911pt,694.5749pt) -- (540.4794pt,697.5866pt) -- (539.6019pt,696.7416pt) -- (538.8219pt,695.9616pt) -- (537.2944pt,697.4891pt) -- (538.0744pt,698.2691pt) -- (539.6994pt,699.8941pt) -- (540.4469pt,700.6741pt) -- (541.2269pt,699.8941pt) -- (545.0186pt,696.1024pt) -- (545.7986pt,695.3224pt) -- (544.2386pt,693.7949pt);
            \draw[pstyle9] (646.3086pt,730.9401pt) -- (636.3086pt,734.9401pt) -- (646.3086pt,738.9401pt) -- (642.3086pt,734.9401pt) -- cycle;
            \draw[pstyle10] (640.3086pt,734.9401pt) -- (705.7103pt,734.9401pt);
            \node at (660.2095pt,716.4616pt)[below right,color=black]{\textbf{IoT}};
            \draw[pstyle9] (504.3086pt,768.4186pt) -- (494.3086pt,772.4186pt) -- (504.3086pt,776.4186pt) -- (500.3086pt,772.4186pt) -- cycle;
            \draw[pstyle10] (498.3086pt,772.4186pt) -- (629.3086pt,772.4186pt);
            \node at (547.742pt,753.9401pt)[below right,color=black]{\textbf{IoTs}};
            \draw[pstyle13] (433.6674pt,787.4186pt) -- (495.4674pt,787.4186pt) -- (495.4674pt,795.8971pt) -- (485.4674pt,805.8971pt) -- (433.6674pt,805.8971pt) -- (433.6674pt,787.4186pt);
            \draw[pstyle4] (433.6674pt,787.4186pt) rectangle (898.3357pt,836.3757pt);
            \node at (448.6674pt,788.4186pt)[below right,color=black]{\textbf{alt}};
            \node at (510.4674pt,789.4186pt)[below right,color=black]{\textbf{[send initial funds]}};
            \draw[pstyle9] (836.9903pt,824.3757pt) -- (846.9903pt,828.3757pt) -- (836.9903pt,832.3757pt) -- (840.9903pt,828.3757pt) -- cycle;
            \draw[pstyle11] (493.3086pt,828.3757pt) -- (842.9903pt,828.3757pt);
            \node at (637.6478pt,809.8971pt)[below right,color=black]{\textit{sendFunds}};
            \draw[pstyle9] (397.5452pt,861.8542pt) -- (387.5452pt,865.8542pt) -- (397.5452pt,869.8542pt) -- (393.5452pt,865.8542pt) -- cycle;
            \draw[pstyle11] (391.5452pt,865.8542pt) -- (482.3086pt,865.8542pt);
            \node at (396.0452pt,847.3757pt)[below right,color=black]{\textit{addFunction}};
            \draw[pstyle9] (471.3086pt,884.5208pt) -- (481.3086pt,888.5208pt) -- (471.3086pt,892.5208pt) -- (475.3086pt,888.5208pt) -- cycle;
            \draw[pstyle10] (381.5452pt,888.5208pt) -- (477.3086pt,888.5208pt);
            \draw[pstyle14] (435.0378pt,877.8542pt) -- (434.2903pt,878.6342pt) -- (431.2786pt,881.6458pt) -- (430.4011pt,880.8008pt) -- (429.6211pt,880.0208pt) -- (428.0936pt,881.5483pt) -- (428.8736pt,882.3283pt) -- (430.4986pt,883.9533pt) -- (431.2461pt,884.7333pt) -- (432.0261pt,883.9533pt) -- (435.8178pt,880.1617pt) -- (436.5978pt,879.3817pt) -- (435.0378pt,877.8542pt);
            \draw[pstyle9] (274.6625pt,907.1875pt) -- (264.6625pt,911.1875pt) -- (274.6625pt,915.1875pt) -- (270.6625pt,911.1875pt) -- cycle;
            \draw[pstyle10] (268.6625pt,911.1875pt) -- (487.3086pt,911.1875pt);
            \draw[pstyle14] (378.5964pt,900.5208pt) -- (377.8489pt,901.3008pt) -- (374.8372pt,904.3125pt) -- (373.9597pt,903.4675pt) -- (373.1797pt,902.6875pt) -- (371.6522pt,904.215pt) -- (372.4322pt,904.995pt) -- (374.0572pt,906.62pt) -- (374.8047pt,907.4pt) -- (375.5847pt,906.62pt) -- (379.3764pt,902.8283pt) -- (380.1564pt,902.0483pt) -- (378.5964pt,900.5208pt);
            \draw[pstyle9] (471.3086pt,937.666pt) -- (481.3086pt,941.666pt) -- (471.3086pt,945.666pt) -- (475.3086pt,941.666pt) -- cycle;
            \draw[pstyle11] (263.6625pt,941.666pt) -- (477.3086pt,941.666pt);
            \node at (326.1561pt,923.1875pt)[below right,color=black]{\textit{startSimulation}};
            \draw[pstyle13] (433.6674pt,956.666pt) -- (505.0674pt,956.666pt) -- (505.0674pt,965.1445pt) -- (495.0674pt,975.1445pt) -- (433.6674pt,975.1445pt) -- (433.6674pt,956.666pt);
            \draw[pstyle4] (433.6674pt,956.666pt) rectangle (898.3357pt,1123.0586pt);
            \node at (448.6674pt,957.666pt)[below right,color=black]{\textbf{loop}};
            \node at (520.0674pt,958.666pt)[below right,color=black]{\textbf{[foreach IoT in IoTs]}};
            \draw[pstyle9] (689.7103pt,993.623pt) -- (699.7103pt,997.623pt) -- (689.7103pt,1001.623pt) -- (693.7103pt,997.623pt) -- cycle;
            \draw[pstyle11] (493.3086pt,997.623pt) -- (695.7103pt,997.623pt);
            \node at (550.8902pt,979.1445pt)[below right,color=black]{\textit{startProducing}};
            \draw[pstyle11] (711.7103pt,1028.1016pt) -- (753.7103pt,1028.1016pt);
            \draw[pstyle11] (753.7103pt,1028.1016pt) -- (753.7103pt,1041.1016pt);
            \draw[pstyle11] (712.7103pt,1041.1016pt) -- (753.7103pt,1041.1016pt);
            \draw[pstyle9] (722.7103pt,1037.1016pt) -- (712.7103pt,1041.1016pt) -- (722.7103pt,1045.1016pt) -- (718.7103pt,1041.1016pt) -- cycle;
            \node at (718.7103pt,1009.623pt)[below right,color=black]{\textit{listenToEvents}};
            \draw[pstyle11] (711.7103pt,1071.5801pt) -- (753.7103pt,1071.5801pt);
            \draw[pstyle11] (753.7103pt,1071.5801pt) -- (753.7103pt,1084.5801pt);
            \draw[pstyle11] (712.7103pt,1084.5801pt) -- (753.7103pt,1084.5801pt);
            \draw[pstyle9] (722.7103pt,1080.5801pt) -- (712.7103pt,1084.5801pt) -- (722.7103pt,1088.5801pt) -- (718.7103pt,1084.5801pt) -- cycle;
            \node at (718.7103pt,1053.1016pt)[below right,color=black]{\textit{registerAgreement}};
            \draw[pstyle9] (836.9903pt,1111.0586pt) -- (846.9903pt,1115.0586pt) -- (836.9903pt,1119.0586pt) -- (840.9903pt,1115.0586pt) -- cycle;
            \draw[pstyle11] (711.7103pt,1115.0586pt) -- (842.9903pt,1115.0586pt);
            \node at (723.7103pt,1096.5801pt)[below right,color=black]{\textit{registerAgreement}};
            \draw[pstyle9] (392.5452pt,1148.5371pt) -- (382.5452pt,1152.5371pt) -- (392.5452pt,1156.5371pt) -- (388.5452pt,1152.5371pt) -- cycle;
            \draw[pstyle11] (386.5452pt,1152.5371pt) -- (482.3086pt,1152.5371pt);
            \node at (418.1469pt,1134.0586pt)[below right,color=black]{\textit{start}};
            \draw[pstyle9] (504.3086pt,1171.2038pt) -- (494.3086pt,1175.2038pt) -- (504.3086pt,1179.2038pt) -- (500.3086pt,1175.2038pt) -- cycle;
            \draw[pstyle10] (498.3086pt,1175.2038pt) -- (705.7103pt,1175.2038pt);
            \draw[pstyle14] (602.6203pt,1164.5371pt) -- (601.8728pt,1165.3171pt) -- (598.8611pt,1168.3288pt) -- (597.9836pt,1167.4838pt) -- (597.2036pt,1166.7038pt) -- (595.6761pt,1168.2313pt) -- (596.4561pt,1169.0113pt) -- (598.0811pt,1170.6363pt) -- (598.8286pt,1171.4163pt) -- (599.6086pt,1170.6363pt) -- (603.4003pt,1166.8446pt) -- (604.1803pt,1166.0646pt) -- (602.6203pt,1164.5371pt);
            \draw[pstyle9] (274.6625pt,1193.8704pt) -- (264.6625pt,1197.8704pt) -- (274.6625pt,1201.8704pt) -- (270.6625pt,1197.8704pt) -- cycle;
            \draw[pstyle10] (268.6625pt,1197.8704pt) -- (487.3086pt,1197.8704pt);
            \draw[pstyle14] (378.5964pt,1187.2038pt) -- (377.8489pt,1187.9838pt) -- (374.8372pt,1190.9954pt) -- (373.9597pt,1190.1504pt) -- (373.1797pt,1189.3704pt) -- (371.6522pt,1190.8979pt) -- (372.4322pt,1191.6779pt) -- (374.0572pt,1193.3029pt) -- (374.8047pt,1194.0829pt) -- (375.5847pt,1193.3029pt) -- (379.3764pt,1189.5113pt) -- (380.1564pt,1188.7313pt) -- (378.5964pt,1187.2038pt);
            \draw[pstyle11] (263.6625pt,1228.349pt) -- (305.6625pt,1228.349pt);
            \draw[pstyle11] (305.6625pt,1228.349pt) -- (305.6625pt,1241.349pt);
            \draw[pstyle11] (264.6625pt,1241.349pt) -- (305.6625pt,1241.349pt);
            \draw[pstyle9] (274.6625pt,1237.349pt) -- (264.6625pt,1241.349pt) -- (274.6625pt,1245.349pt) -- (270.6625pt,1241.349pt) -- cycle;
            \node at (270.6625pt,1209.8704pt)[below right,color=black]{\textit{onStopLoading}};
            \draw[pstyle9] (133.9674pt,1260.0156pt) -- (123.9674pt,1264.0156pt) -- (133.9674pt,1268.0156pt) -- (129.9674pt,1264.0156pt) -- cycle;
            \draw[pstyle10] (127.9674pt,1264.0156pt) -- (257.6625pt,1264.0156pt);
            \draw[pstyle14] (193.4258pt,1253.349pt) -- (192.6783pt,1254.129pt) -- (189.6666pt,1257.1406pt) -- (188.7891pt,1256.2956pt) -- (188.0091pt,1255.5156pt) -- (186.4816pt,1257.0431pt) -- (187.2616pt,1257.8231pt) -- (188.8866pt,1259.4481pt) -- (189.6341pt,1260.2281pt) -- (190.4141pt,1259.4481pt) -- (194.2058pt,1255.6565pt) -- (194.9858pt,1254.8765pt) -- (193.4258pt,1253.349pt);
        \end{tikzpicture}
    }
    \caption{Diagramma di sequenza che descrive l'avvio di una simulazione} \label{dg:start-simulation-sequence}
\end{figure}
\restoregeometry